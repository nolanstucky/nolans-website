import React, { useState, useEffect } from 'react';
import { motion } from 'framer-motion';

const ArtText = ({ isHovered }) => {
    const pathLength = 500; // Adjust based on your SVG path
    const [firstAnimationComplete, setFirstAnimationComplete] = useState(false);

    useEffect(() => {
        if (isHovered) {
            setFirstAnimationComplete(true);
        }
    }, [isHovered]);

    const pathVariants = {
        hidden: {
            strokeDashoffset: pathLength,
            strokeDasharray: pathLength,
            fill: "rgba(0, 0, 0, 0)"
        },
        visible: {
            strokeDashoffset: [pathLength, 0], // Animate from full length to 0
            fill: "none",
            stroke: "#231f20",
            transition: {
                duration: firstAnimationComplete ? 0.5 : 4,
                ease: "easeInOut"
            }
        },
        hovered: {
            strokeDashoffset: [pathLength, 0],
            fill: "none",
            stroke: "#ae4d43",
            transition: {
                duration: 0.5,
                ease: "easeInOut",
            }
        }
    };
  
  return (
    <svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="-140 -30 390 200.63">
      <defs>
        <style>{".cls-78{stroke-width:2px;}"}</style>
      </defs>
      <motion.path
        d="M34.38 37.41c-.28.24-.86.45-1.74.63s-1.48.29-1.8.33c.32 1.52.48 2.26.48 2.22.28 1 .58 2.38.9 4.14.72 4.04 1.46 7.48 2.22 10.32.2.92.3 1.46.3 1.62 0 .4-.16.74-.48 1.02-.32.28-.7.42-1.14.42-.4 0-.76-.21-1.08-.63-.32-.42-.54-.79-.66-1.11-.36-1.36-.69-2.88-.99-4.56-.3-1.68-.65-3.7-1.05-6.06-.16-1.04-.42-2.33-.78-3.87-.36-1.54-.6-2.55-.72-3.03-2.36.32-6.42.96-12.18 1.92l-3.48.6-1.26 3.54-1.68 4.8c-1.4 4.36-2.4 7.72-3 10.08a2.88 2.88 0 0 1-.72 1.41c-.36.38-.8.57-1.32.57-.44 0-.81-.12-1.11-.36-.3-.24-.45-.58-.45-1.02s.24-1.37.72-2.79.76-2.27.84-2.55c.16-.4.48-1.32.96-2.76.52-1.56 1.19-3.45 2.01-5.67a347.8 347.8 0 0 1 1.65-4.41c-2.04.48-3.56.86-4.56 1.14-1.52.4-2.46.6-2.82.6-.44 0-.77-.17-.99-.51-.22-.34-.33-.71-.33-1.11 0-.48.12-.81.36-.99.24-.18.64-.35 1.2-.51 1.52-.36 3.13-.72 4.83-1.08 1.7-.36 2.87-.6 3.51-.72.4-1.16.7-2.14.9-2.94.16-.52.37-1.17.63-1.95s.55-1.75.87-2.91l.9-3.06c1.52-5.36 2.4-8.42 2.64-9.18.2-.56.39-1 .57-1.32.18-.32.43-.48.75-.48.8 0 1.52.12 2.16.36.08-.08.21-.25.39-.51.18-.26.38-.44.6-.54.22-.1.51-.15.87-.15.72 0 1.55.82 2.49 2.46.94 1.64 1.85 3.58 2.73 5.82.52 1.32 1.18 3.29 1.98 5.91s1.32 4.35 1.56 5.19c.6-.08 1.11-.19 1.53-.33l.81-.27c.2-.08.42-.22.66-.42.24-.2.46-.35.66-.45.2-.1.42-.09.66.03.52.24.78.74.78 1.5 0 .28-.07.58-.21.9-.14.32-.33.56-.57.72ZM24.24 26.07c-.56-1.48-1.28-3-2.16-4.56-.88-1.56-1.62-2.54-2.22-2.94l-.66 1.56c-.76 1.52-1.34 2.9-1.74 4.14-.96 2.88-2.48 7.64-4.56 14.28l7.02-1.2 5.76-.9 1.62-.24-1.26-4.53c-.64-2.3-1.24-4.17-1.8-5.61ZM58.92 31.17c-.28 0-.55-.12-.81-.36s-.55-.58-.87-1.02c-.28-.4-.65-.74-1.11-1.02-.46-.28-.93-.42-1.41-.42-1.16 0-2.72 1.53-4.68 4.59-1.96 3.06-3.88 6.91-5.76 11.55.04.92.11 2.08.21 3.48.1 1.4.17 2.44.21 3.12l.18 2.4c0 .56-.12 1.05-.36 1.47-.24.42-.68.63-1.32.63-.68 0-1.12-.91-1.32-2.73-.2-1.82-.32-4.47-.36-7.95-.04-.88-.07-2.14-.09-3.78-.02-1.64-.07-3.6-.15-5.88-.12-3.44-.18-5.9-.18-7.38 0-.92.56-1.38 1.68-1.38.68 0 1.09.29 1.23.87.14.58.21 1.69.21 3.33v9.54c1.2-3.08 2.5-5.74 3.9-7.98s2.77-3.95 4.11-5.13c1.34-1.18 2.53-1.77 3.57-1.77.88 0 1.72.2 2.52.6.8.4 1.44.91 1.92 1.53s.72 1.21.72 1.77c0 .36-.25.77-.75 1.23-.5.46-.93.69-1.29.69ZM87.78 32.07c-3.68.64-5.74 1-6.18 1.08l-3.9.66c0 2.08.03 4.26.09 6.54.06 2.28.15 4.28.27 6 .16 2.32.44 4.1.84 5.34.4 1.24.62 1.94.66 2.1 0 .4-.25.77-.75 1.11s-.97.51-1.41.51c-.24 0-.44-.07-.6-.21-.16-.14-.3-.37-.42-.69-.24-.56-.47-1.6-.69-3.12-.22-1.52-.39-3.2-.51-5.04-.12-1.64-.21-3.55-.27-5.73-.06-2.18-.09-4.29-.09-6.33-2.24.36-4.54.8-6.9 1.32-2.12.44-3.38.66-3.78.66-.48 0-.93-.14-1.35-.42-.42-.28-.63-.66-.63-1.14 0-.52.18-.86.54-1.02.36-.16.96-.24 1.8-.24.6 0 1.48-.11 2.64-.33 1.16-.22 1.9-.37 2.22-.45 2.68-.52 4.5-.86 5.46-1.02 0-.84-.04-1.94-.12-3.3-.08-1.84-.12-3.24-.12-4.2 0-1.56.05-2.77.15-3.63.1-.86.29-1.63.57-2.31.32-.8.92-1.2 1.8-1.2.36 0 .6.06.72.18s.18.34.18.66c0 .24-.1.94-.3 2.1-.2 1.16-.3 2.7-.3 4.62 0 1.48.04 3.14.12 4.98l.06 1.62c1.8-.28 5.36-1.02 10.68-2.22.32-.08.59-.36.81-.84.22-.48.45-.72.69-.72.44 0 .89.25 1.35.75.46.5.69 1.01.69 1.53 0 .68-.29 1.2-.87 1.56-.58.36-1.63.64-3.15.84Z"
        className="cls-78"
        variants={pathVariants}
        initial="hidden"
        animate={isHovered ? "hovered" : "visible"}
      />
    </svg>
  );
};

export default ArtText;


